"use strict";angular.module("madEase",["ngAnimate","ngCookies","ngTouch","ngSanitize","ui.router","ui.bootstrap","firebase"]).config(["$stateProvider","$urlRouterProvider",function(t,e){t.state("home",{url:"/",templateUrl:"app/main/main.html",controller:"MainCtrl",controllerAs:"main"}).state("search",{url:"/find-closet",templateUrl:"../../states/search.html",controller:"SearchCtrl",controllerAs:"search"}).state("add",{url:"/add-closet",templateUrl:"../../states/add-closet.html",controller:"addCtrl",controllerAs:"add"}).state("closets",{url:"/closets/:userId/:closetId",templateUrl:"../../states/closets.html",controller:"ClosetCtrl",controllerAs:"closet"}).state("closets.shirts",{url:"/:id/:closetId/shirt-form",templateUrl:"../../states/shirt-form.html",controller:"ShirtCtrl",controllerAs:"shirt"}).state("closets.pants",{url:"/:id/:closetId/pant-form",templateUrl:"../../states/pant-form.html",controller:"PantsCtrl",controllerAs:"pants"}).state("closets.shoes",{url:"/:id/:closetId/shoe-form",templateUrl:"../../states/shoe-form.html",controller:"ShoesCtrl",controllerAs:"shoes"}).state("closets.access",{url:"/:id/:closetId/access-form",templateUrl:"../../states/access-form.html",controller:"AccessoriesCtrl",controllerAs:"accessories"}).state("favorites",{url:"/favorites",templateUrl:"../../states/favorites.html"}).state("login",{url:"/login",templateUrl:"../../states/login.html",controller:"LoginCtrl",controllerAs:"login"}),e.otherwise("/")}]).factory("Auth",["$firebaseObject","$state",function(t,e){function s(e){if(console.log(e),null===e)return null;var s=o.child("users").child(e.facebook.id);return s.update({uid:e.facebook.id,facebook:e.facebook,fullName:e.facebook.displayName,firstName:e.facebook.cachedUserProfile.first_name,lastName:e.facebook.cachedUserProfile.last_name,avatarUrl:e.facebook.cachedUserProfile.picture.data.url}),s=t(o.child("users").child(e.facebook.id)),l=s,s}var o=new Firebase("https://madease.firebaseio.com"),l={};return{onAuth:function(t){o.onAuth(function(e){t(s(e))})},fbLogin:function(){return o.authWithOAuthPopup("facebook",function(t,s){console.log(s),t?console.log("Login Failed!",t):(e.go("home"),console.log("Authenticated successfully with payload:",s))},{remember:"sessionOnly"})},logout:function(){o.unauth(),e.go("login"),console.log("goodbye")},loggedIn:function(){return o.getAuth()?!0:void 0},getUser:function(){return l}}}]),angular.module("madEase").controller("NavCtrl",["Auth",function(t){var e=this;this.logout=t.logout,t.onAuth(function(t){e.user=t,console.log(t)})}]),angular.module("madEase").controller("MainCtrl",["Auth",function(t){var e=this;t.onAuth(function(t){e.user=t,console.log(t)})}]),angular.module("madEase").controller("LoginCtrl",["$firebaseArray","$firebaseObject","Auth",function(t,e,s){new Firebase("https://madease.firebaseio.com/users");this.fbLogin=s.fbLogin,s.onAuth(function(t){self.user=t}),console.log(self.user.fullName)}]),angular.module("madEase").run(["$templateCache",function(t){t.put("app/login/login.html",'<section class="text-container"><div class="secondary-text-container"><section class="text-area"><div class="row"><div class="welcome-message col-sm-12 col-md-6"><h1>Hello, Beautiful!</h1><div class="line-decoration"><img src="./assets/images/line-decoration.png"></div><p class="main-paragraph">Hi boys. I\'m Tina. I need both ears to hold up my glasses. Everything I know to be true just went out the window. I texted back a smiley face. She texted back some letters I don\'t understand.</p></div><div class="field-container col-sm-12 col-md-6"><div class="input-group e-field"><span class="input-group-addon" id="sizing-addon2">E</span> <input type="text" class="form-control" placeholder="Email" aria-describedby="sizing-addon2" required=""></div><div class="input-group p-field"><span class="input-group-addon" id="sizing-addon2">P</span> <input type="text" class="form-control" placeholder="Password" aria-describedby="sizing-addon2" required=""></div><div class="submit-container"><button type="submit" class="btn btn-default">Login</button> <a ng-click="login.fbLogin()"><img src="../assets/images/facebook.png"></a></div></div></div></section></div></section>'),t.put("app/main/main.html",'<section class="banner"><div class="tagline"><p>one less decision you have to make today</p></div></section><section class="text-container"><div class="secondary-text-container"><section class="text-area"><h1>Hello, Beautiful!</h1><div class="line-decoration"><img src="./assets/images/line-decoration.png"></div><p class="main-paragraph">We at MadEase know how difficult finding the perfect outfit can be, so we wanted to make it a little easier for you. Take a tour through your closets and all of the clothing you own by starting your first closet today!</p></section><div class="row"><ul class="button-container"><li class="col-xs-12 col-sm-6 col-md-6 col-lg-3"><a ui-sref="favorites"><div class="cta recent-cta"></div><div class="button-title-yellow"><h2 class="button-text">Recent Closet</h2></div></a></li><li class="col-xs-12 col-sm-6 col-md-6 col-lg-3"><a ui-sref="search"><div class="cta search-cta"></div><div class="button-title-blue"><h2 class="button-text">My Closets</h2></div></a></li><li class="col-xs-12 col-sm-6 col-md-6 col-lg-3"><a ui-sref="add"><div class="cta add-cta"></div><div class="button-title-green"><h2 class="button-text">Add Closet</h2></div></a></li><li class="col-xs-12 col-sm-6 col-md-6 col-lg-3"><a ui-sref="favorites"><div class="cta favorites-cta"></div><div class="button-title-red"><h2 class="button-text">Favorites</h2></div></a></li></ul></div></div></section>'),t.put("components/navbar/navbar.html",'<nav class="mobile-nav" ng-controller="NavCtrl as nav"><a ui-sref="home"><img class="device-logo" src="./assets/images/logo.png"></a><div class="user-info-position" ng-hide="nav.user == null"><img class="user-pic" ng-src="{{nav.user.avatarUrl}}"><p class="user-info">Hey {{nav.user.firstName}}!</p><button type="button" class="btn btn-danger logout-btn" ng-click="nav.logout()">Logout</button></div></nav><div class="line"></div>')}]);